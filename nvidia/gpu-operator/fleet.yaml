namespace: nvidia-gpu-operator
helm:
  chart: 'gpu-operator'
  repo: 'https://helm.ngc.nvidia.com/nvidia'
  version: 24.9.0
  values:
    devicePlugin:
      config:
        name: time-slicing-config
        default: any
    driver: 
      enabled: true
      usePrecompiled: true
      version: 550
    toolkit: 
      enabled: true
      env:
        - name: CONTAINERD_SOCKET
          value: /run/k3s/containerd/containerd.sock
        - name: CONTAINERD_CONFIG
          value: "/var/lib/rancher/rke2/agent/etc/containerd/config.toml"
        - name: "CONTAINERD_RUNTIME_CLASS"
          value: "nvidia"
        - name: "CONTAINERD_SET_AS_DEFAULT"
          value: "false"

  releaseName: nvidia-gpu-operator
paused: false
dependsOn:
  - name: galleon-nvidia-runtime
